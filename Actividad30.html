<!DOCTYPE html>
<html lang="es">
    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Actividad 30: colision - Roberto Lopez</title>
    </head>

    <body>
        
        <h1>Actividad 30: Roberto Lopez</h1>
    
        <canvas id="myCanvas" height="500" width="500" style="border: solid #000000;"></canvas>

        <script>

        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        var super_x = 100;
		var super_y = 100; 
		var direction = '';
		var speed = 5;

		document.addEventListener('keypress',function(e){

			switch(e.keyCode)
			{
				case  119:
					direction = 'up';
				break;

				case 115:
					direction = 'down';
				break;

				case 97:
					direction = 'left';
				break;

				case 100:
					direction = 'right';
				break;

				case 32:
					speed += 2.5;
				break;

			} 

		}) 

		function update()
		{
			switch(direction)
			{
				case 'up':
					super_y -=speed;
					if (super_y<=10) {
						super_y = 480;
					}
				break;
				case 'down':
					super_y +=speed;
					if (super_y>500) {
						super_y = 0;
					}
				break;
				case 'right':
					super_x +=speed;
					if (super_x>500) {
						super_x = 0;
					}
				break;
				case 'left':
					super_x -=speed;
					if (super_x<=10) {
						super_x = 580;
					}
				break;
			}
		}

		function paint()
		{

			ctx.fillStyle="white";
			ctx.fillRect(0, 0,600,500) 

			ctx.font = "15px Arial"; 
			ctx.fillStyle="black"; 
			ctx.fillText("Speed: "+speed, 510,30)

			ctx.fillStyle="red";
			ctx.fillRect(super_x, super_y,30,30) 
			ctx.strokeRect(super_x, super_y,30,30) 

			update()
			requestAnimationFrame(paint);
		}

		requestAnimationFrame(paint);
		


		window.requestAnimationFrame = (function () {
		    return window.requestAnimationFrame ||
		        window.webkitRequestAnimationFrame ||
		        window.mozRequestAnimationFrame ||
		        function (callback) {
		            window.setTimeout(callback, 17);
		        };
		}());

        class Cuadrado {constructor(color, alto, ancho, x, y, speed) {
        this.color = color;
        this.alto = alto;
        this.ancho = ancho;
        this.x = x;
        this.y = y;
        this.speed = speed;
            }
        }


        var player = new cuadrado (red, 30, 30, 100, 100, 5 );

        var target = new cuadrado (red, 10, 10, 200, 200, null);


        </script>
    </body>
</html>